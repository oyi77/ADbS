# Project Rules

---
---
description: Standards for Specification-Driven Development (SDD)
globs: .sdd/**/*
alwaysApply: true
---
# SDD (Specification-Driven Development) Workflow Rules

## Overview

This project uses **SDD (Specification-Driven Development)** methodology to ensure systematic, high-quality development and prevent AI hallucinations.

## SDD Workflow Stages

You MUST follow these stages in order:

1. **Plan** - Create plan document in `.sdd/plans/*.md`
2. **Requirements** - Define functional and non-functional requirements in `.sdd/requirements/*.plan<id>.md`
3. **Design** - Create architecture and design documents in `.sdd/designs/*.plan<id>.md`
4. **Tasks** - Break down work into specific tasks in `.sdd/tasks/*.plan<id>.md`

## Plan ID System

- Each plan gets an incremental ID: `plan-001`, `plan-002`, etc.
- All SDD artifacts link to a plan via filename: `requirements.plan-001.md`, `design.plan-001.md`, `tasks.plan-001.md`
- Plan metadata is tracked in `.sdd/plans/.index.json`

## Requirements Stage

- Use template: `templates/sdd/requirements.md.template`
- Define functional requirements with acceptance criteria
- Define non-functional requirements (performance, security, scalability)
- Document constraints and assumptions
- Save to `.sdd/requirements/requirements.plan<id>.md`
- Minimum 500 words required

## Design Stage

- Use template: `templates/sdd/design.md.template`
- Define architecture and components
- Document data flow
- Specify technology choices with rationale
- Document security and error handling
- Save to `.sdd/designs/design.plan<id>.md`
- Minimum 500 words required

## Tasks Stage

- Use template: `templates/sdd/tasks.md.template`
- Break down work into specific, actionable tasks
- Define task dependencies
- Prioritize tasks
- Minimum 3 tasks required
- Save to `.sdd/tasks/tasks.plan<id>.md`

## Prohibited Behaviors

1. **DO NOT** skip stages - each stage must be completed before moving to the next
2. **DO NOT** start implementation without completing requirements and design
3. **DO NOT** create tasks without linking them to a plan
4. **DO NOT** proceed to execution without task assignment

## Best Practices

1. **Always validate** before moving to the next stage
2. **Document thoroughly** - better to over-document than under-document
3. **Link artifacts** - reference requirements in design, design in tasks
4. **Use plan IDs** - always link artifacts to their plan


---
---
description: Workflow enforcement rules for ADbS
globs: *
alwaysApply: true
---
# Workflow Enforcement Rules

## Overview

This project enforces a structured workflow to ensure systematic development and prevent AI hallucinations.

## Workflow Stages

You MUST follow these stages in order:

1. **Explore** - Research and understand the problem
2. **Plan** - Outline objectives and approach (create plan in `.sdd/plans/`)
3. **SDD - Requirements** - Define requirements (`.sdd/requirements/requirements.plan<id>.md`)
4. **SDD - Design** - Create design (`.sdd/designs/design.plan<id>.md`)
5. **SDD - Tasks** - Break down tasks (`.sdd/tasks/tasks.plan<id>.md`)
6. **Assign** - Use task manager to track tasks
7. **Execution** - Implement and test

## Stage Enforcement

### Before Starting Any Stage

1. Check the current stage: Read `.workflow-enforcer/current-stage`
2. Validate previous stage completion: Run `adbs validate`
3. Only proceed if validation passes

### Stage Validation

Each stage must be validated before moving to the next:

```bash
# Validate current stage
adbs validate

# Move to next stage (only if validated)
adbs next
```

### Stage Requirements

#### Explore Stage
- Document research findings
- Understand problem domain
- Identify constraints and assumptions
- Create exploration notes

#### Plan Stage
- Create plan document in `.sdd/plans/*.md`
- Outline high-level objectives
- Define strategies and approach
- Minimum 200 words required

#### SDD Stages
- Requirements: `.sdd/requirements/requirements.plan<id>.md` (500+ words)
- Design: `.sdd/designs/design.plan<id>.md` (500+ words)
- Tasks: `.sdd/tasks/tasks.plan<id>.md` (minimum 3 tasks)

#### Assign Stage
- Use task manager to create tasks
- Link tasks to requirements and design
- Set task dependencies
- At least one task must be created

#### Execution Stage
- Implement tasks in priority order
- Follow design specifications
- Update task status regularly
- Mark tasks complete when done

## Validation Rules

### Stage Transition Rules

- **Explore → Plan**: Exploration notes must exist
- **Plan → Requirements**: Plan document must exist (200+ words)
- **Requirements → Design**: Requirements document must be complete (500+ words, all required sections)
- **Design → Tasks**: Design document must be complete (500+ words, all required sections)
- **Tasks → Assign**: Tasks document must have minimum 3 tasks
- **Assign → Execution**: At least one task must be created in task manager

## Prohibited Behaviors

1. **DO NOT** skip stages - each stage must be completed before moving to the next
2. **DO NOT** start implementation without completing requirements and design
3. **DO NOT** create tasks without linking them to requirements
4. **DO NOT** proceed to execution without task assignment
5. **DO NOT** modify artifacts after stage completion without validation

## Best Practices

1. **Always validate** before moving to the next stage
2. **Document thoroughly** - better to over-document than under-document
3. **Link artifacts** - reference requirements in design, design in tasks
4. **Update task status** regularly as work progresses
5. **Review and refine** - iterate on requirements and design before execution


---
---
description: Task management rules and commands
globs: .workflow-enforcer/tasks.json
alwaysApply: false
---
# Beads Task Management Rules

## Overview

This project uses **Beads** (or compatible task manager) for hierarchical task management and tracking.

## Task Management Commands

### Create a Task

```bash
adbs task create "Task description" --priority high
```

### List Tasks

```bash
adbs task list
adbs task list --status todo
adbs task list --priority high
```

### Update Task Status

```bash
adbs task update <id> --status in-progress
adbs task update <id> --status done
```

### Task Hierarchy

Tasks can have parent-child relationships:
- Parent task: `task-abc`
- Child tasks: `task-abc.1`, `task-abc.2`

### Task Dependencies

Tasks can depend on other tasks. Use the `depends_on` field when creating or updating tasks.

### Task Tags

Tasks can be tagged for better organization:
```bash
adbs task update <id> --tags "frontend,urgent"
```

## Task Lifecycle

1. **todo** - Task is created but not started
2. **in-progress** - Task is actively being worked on
3. **done** - Task is completed
4. **blocked** - Task is blocked by dependencies or issues

## Integration with SDD

- Tasks should be created from the tasks document (`.sdd/tasks/tasks.plan<id>.md`)
- Link tasks to their plan ID
- Update task status as work progresses
- Mark tasks complete when implementation is done

## Best Practices

1. **Create tasks** from the tasks document after design is complete
2. **Update status** regularly as work progresses
3. **Use dependencies** to track task relationships
4. **Use tags** for better organization and filtering
5. **Link to plan** - always reference the plan ID in task descriptions


---
---
description: Zed specific platform rules
globs: .zed/**/*
alwaysApply: true
---
# Zed-Specific Rules

## Context

- This project uses the ADbS workflow.
- Zed reads rules from `.rules` at the project root.
- The `adbs` tool manages this file by concatenating rules.

## Capabilities

- Zed does not support complex frontmatter in `.rules`, but we include it for compatibility.
- Use `adbs` for all workflow tasks.

